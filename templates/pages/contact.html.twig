{% extends 'layouts/base.html.twig' %}

{% block title %}Contact â€” Tracktoon{% endblock %}
{% block meta_description %}Contactez-nous pour toute question ou suggestion concernant Tracktoon.{% endblock %}

{% block content %}
<main role="main">

  {# Messages dâ€™Ã©tat #}
  {% if error %}<p role="alert" class="contact-alert">{{ error }}</p>{% endif %}
  {% if success %}<p role="status" class="contact-status">{{ success }}</p>{% endif %}

  {# Intro avec gradient gauche â†’ droite #}
  <section class="contact-intro" aria-label="Introduction">
    <div class="container">
      <h2>Contactez-nous</h2>
      <p>Une question ? Une suggestion ? Nous sommes lÃ  pour vous aider Ã  amÃ©liorer votre expÃ©rience Tracktoon.</p>
    </div>
  </section>

  {# Zone principale : formulaire + FAQ Ã  droite #}
  <section class="contact-panel" aria-label="Contacter lâ€™Ã©quipe">
    <div class="container">
      <div class="contact-grid">

        {# FORMULAIRE #}
        <div class="contact-form">
          <h3>Envoyez-nous un message</h3>
          <p>Remplissez le formulaire ci-dessous et nous vous rÃ©pondrons rapidement.</p>

          <form method="post" action="?route=contact-send" novalidate>
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

            {# Honeypot anti-bot : champ Ã  laisser vide #}
            <div class="u-visually-hidden">
              <label for="website">Votre site (laissez vide)</label>
              <input id="website" type="text" name="website" tabindex="-1" autocomplete="off">
            </div>

            <label class="field">
              <span class="field__label">Nom</span>
              <input class="field__input" name="name" required value="{{ prefills.name|default('') }}" autocomplete="name">
            </label>

            <label class="field">
              <span class="field__label">Email</span>
              <input class="field__input" name="email" type="email" required value="{{ prefills.email|default('') }}" autocomplete="email">
            </label>

            <label class="field">
              <span class="field__label">Message</span>
              <textarea class="field__textarea" name="message" required placeholder="Ã‰crivez ici...">{{ prefills.message|default('') }}</textarea>
            </label>

            {# MÃªme style que le bouton du home (search-submit) #}
            <button type="submit" class="search-submit" aria-label="Envoyer votre message">
              <span aria-hidden="true">ðŸ“¨</span> Envoyer
            </button>
          </form>
        </div>

        {# ASIDE FAQ #}
        <aside class="contact-aside" aria-label="Questions frÃ©quentes">
          <h3>Questions frÃ©quentes</h3>

          <div class="faq-list">
            <article>
              <h4>Comment ajouter une Å“uvre ?</h4>
              <p>Si vous Ãªtes connectÃ©, vous pouvez ajouter une Å“uvre depuis sa page.</p>
            </article>

            <article>
              <h4>Comment modifier mes notes ?</h4>
              <p>AccÃ©dez Ã  votre bibliothÃ¨que et ouvrez lâ€™Å“uvre, puis utilisez lâ€™espace Â« Notes privÃ©es Â».</p>
            </article>

            <article>
              <h4>Comment ajouter une Å“uvre qui nâ€™est pas prÃ©sente ?</h4>
              <p>Faites une demande via le formulaire de contact. Un synopsis aide Ã  accÃ©lÃ©rer lâ€™ajout.</p>
            </article>
          </div>

          <p>
            <a class="btn-faq" href="?route=faq" aria-label="Consulter la FAQ">FAQ</a>
          </p>
        </aside>

      </div>
    </div>
  </section>

</main>
{% endblock %}