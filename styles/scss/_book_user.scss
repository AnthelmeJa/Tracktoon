@use 'utils' as *;

/* ===== PAGE BOOK USER ===== */
.book-user {
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr);
  column-gap: 0;
  align-items: stretch;
  background: linear-gradient(rgba(0,0,0,.205), rgba(0,0,0,.205)) 260px 0 / 1px 100% no-repeat;

  /* ===== NAV GAUCHE ===== */
  .book-user__nav {
    padding: 2rem 1.5rem;
    position: sticky;
    top: 0;
    align-self: start;

    h3 {
      margin: 0 0 1rem;
      font-size: 1.8rem;
    }

    .nav-stats {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: .6rem;

      a {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: .8rem;
        text-decoration: none;
        color: inherit;
        padding: .4rem .6rem;
        border-radius: .6rem;
        transition: background .15s ease;

        &[aria-current="page"] {
          background: #f2f2f2;
        }
      }
    }
  }

  /* ===== COLONNE DROITE ===== */
  .book-user__main {
    min-width: 0;
  }
}

/* ===== HERO ===== */
.book-hero--user {
  padding: 5rem 0 2rem 3rem;

  .book-hero__inner {
    padding-left: 10rem;
  }
}

/* ===== BARRE OUTILS ===== */
.book-tools {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 2rem;
  padding: 1.5rem 3rem 0;

  &__left form,
  &__right form {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

    .book-tools__form {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .bt-input {
    padding: .7rem 1rem;
    border-radius: .8rem;
    border: 1px solid #d0d0d0;
    background: #fff;
    font: inherit;
  }

  .bt-check {
    display: inline-flex;
    align-items: center;
    gap: .4rem;
    padding: .4rem .7rem;
    border: 1px solid transparent;
    border-radius: .7rem;
    cursor: pointer;

    input {
      accent-color: #FF6900;
    }
  }

  .bt-feedback {
    font-size: 1.3rem;
    color: #0B7A0B;
  }
}

.checkbox-inline {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
}

/* étoiles */
.stars-fieldset {
  border: 0;
  padding: 0;
  margin: 0;
  display: inline-flex;
  gap: .4rem;
  font-size: 1.8rem;
}

.star-btn {
  background: transparent;
  border: 0;
  font: inherit;
  line-height: 1;
  cursor: pointer;
  color: #ccc;
  transition: color .15s ease;
}

.star-btn.is-filled {
  color: #FF6900;
}

.star-btn:focus-visible {
  outline: 2px solid #FF6900;
  outline-offset: 2px;
}

/* "note enregistrée" */
.star-feedback {
  margin-top: .5rem;
  font-size: 1.3rem;
}

/* boutons */
.btn-save-orange,
.btn-save-light {
  padding: 1.2rem 1.8rem;
  border-radius: 1rem;
  cursor: pointer;
  border: 1px solid #FF6900;
  background: #FF6900;
  color: #fff;
}

.btn-remove {
  padding: .9rem 1.4rem;
  border-radius: .8rem;
  border: 1px solid #c62828;
  color: #c62828;
  background: transparent;
  cursor: pointer;
}

/* ===== SECTIONS TEXTE ===== */
.book-synopsis,
.book-notes,
.book-remove {
  padding: 2rem 3rem 0;
  padding-bottom: 3rem;
}

.book-synopsis h3,
.book-notes h3 {
  margin: 0 0 .8rem;
  font-size: 1.8rem;
}

.book-notes p {
  margin: 0 0 1rem;
}

.book-notes textarea {
  width: 100%;
  padding: 1.2rem 1.4rem;
  border-radius: 1rem;
  border: 1px solid #D8D8D8;
  background: #F4F4F4;
  resize: vertical;
  min-height: 12rem;
  font: inherit;
}

body.theme-dark .book-tools select,
body.theme-dark .book-tools input[type="text"],
body.theme-dark .book-tools input[type="number"] {
  background: rgba(37, 37, 37, 0.6);
  color: #fff;
  border-color: rgba(255,255,255,.15);
}

/* ===== MOBILE ===== */
@include mobile {
  .book-user {
    grid-template-columns: 1fr;
    background: none;

    .book-user__nav {
      position: static;
      border-bottom: 1px solid rgba(0,0,0,.205);
      margin-bottom: 1rem;
      text-align: center;
      overflow: hidden;

      h3 {
        text-align: center;
        margin-bottom: 1rem;
      }

      .nav-stats {
        display: flex;
        gap: .6rem;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        touch-action: pan-x;
        overscroll-behavior: contain;
        max-width: 100%;
        padding-bottom: .4rem;

        a {
          flex: 0 0 auto;
          display: inline-flex;
          align-items: center;
          gap: .6rem;
          padding: .6rem .9rem;
          background: #fff;
          border: 1px solid rgba(0,0,0,.08);
          border-radius: .7rem;
          scroll-snap-align: start;
          max-width: 90vw;
        }

        a[aria-current="page"] {
          background: rgba(255,106,0,.12);
          border-color: rgba(255,106,0,.3);
          color: #000;
        }
      }
    }
  }

  .book-hero--user {
    padding: 3rem 1rem 1.5rem 1rem;

    .book-hero__inner {
      padding-left: 1rem;
      flex-direction: column;
      align-items: stretch;
    }
  }

  .book-tools {
    flex-direction: column;
    align-items: center;
    gap: 1.2rem;
    padding: 1.5rem 1rem 0;

    &__left form,
    &__right form {
      flex-wrap: wrap;
      justify-content: center;
    }
  }

  .book-tools .book-tools__form {
    flex-wrap: wrap;
    justify-content: center;
  }

  .book-synopsis,
  .book-notes,
  .book-remove {
    padding: 1.5rem 1rem 3rem;
    text-align: center;
  }

  .book-notes textarea {
    text-align: left;
  }
}

body.theme-dark .book-user .book-user__nav .nav-stats a {
  background: rgba(37, 37, 37, 0.6);
  border-color: rgba(255,255,255,.05);
  color: #fff;
}